<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Painel Academia</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #0d0d0d;
    color: #fff;
    text-align: center;
  }
  .caixa {
    background: #1e1e1e;
    padding: 20px;
    border-radius: 12px;
    width: 320px;
    margin: 30px auto;
    box-shadow: 0 0 10px #c32b2b;
  }
  input, select, button {
    width: 90%;
    padding: 10px;
    margin: 8px 0;
    border: none;
    border-radius: 8px;
  }
  button {
    background: #c32b2b;
    color: #fff;
    font-weight: bold;
    cursor: pointer;
  }
  button:hover {
    background: #e64242;
  }
</style>
</head>
<body>

<h2>üèãÔ∏è Painel Academia Bravo13</h2>

<div id="cadastro" class="caixa">
  <h3>Cadastro</h3>
  <input type="text" id="nome" placeholder="Seu nome"><br>
  <button onclick="registrar()">Gerar minha senha üîë</button>
  <p id="resultado"></p>
</div>

<div id="login" class="caixa">
  <h3>Login</h3>
  <input type="text" id="loginNome" placeholder="Nome"><br>
  <input type="text" id="loginSenha" placeholder="Senha"><br>
  <button onclick="login()">Entrar</button>
  <p id="loginResultado"></p>
</div>

<div id="painel" class="caixa" style="display:none;">
  <h3>Registro de Treino</h3>
  <label>Dia da Semana:</label><br>
  <select id="dia">
    <option value="">Selecione</option>
    <option>Segunda</option>
    <option>Ter√ßa</option>
    <option>Quarta</option>
    <option>Quinta</option>
    <option>Sexta</option>
    <option>S√°bado</option>
    <option>Domingo</option>
  </select><br>

  <label>Tipo de Treino:</label><br>
  <select id="tipo">
    <option value="">Selecione</option>
    <option>Peito</option>
    <option>Costas</option>
    <option>Pernas</option>
    <option>Ombros</option>
    <option>B√≠ceps</option>
    <option>Tr√≠ceps</option>
  </select><br>

  <label>Feito?</label><br>
  <select id="feito">
    <option value="">Selecione</option>
    <option>Sim</option>
    <option>N√£o</option>
  </select><br>

  <button onclick="salvarTreino()">Salvar Treino ‚úÖ</button>
  <p id="salvarResultado"></p>
</div>

<script>
const scriptUrl = "https://script.google.com/macros/s/AKfycbyUFFwmr6R1435ZH4Z3rGk3KUC-VaA_Cg64JDlAF0Z43kX-2_h5DK-KUVA96eNJaMe8HQ/exec";
let usuarioLogado = "";

async function registrar() {
  const nome = document.getElementById("nome").value.trim();
  if (!nome) return alert("Digite seu nome!");

  const resp = await fetch(scriptUrl, {
    method: "POST",
    body: new URLSearchParams({ nome, acao: "registrar" })
  });
  const data = await resp.json();
  if (data.status === "ok") {
    document.getElementById("resultado").innerText = `Sua senha: ${data.senha}`;
  }
}

async function login() {
  const nome = document.getElementById("loginNome").value.trim();
  const senha = document.getElementById("loginSenha").value.trim();
  if (!nome || !senha) return alert("Preencha nome e senha!");

  const resp = await fetch(scriptUrl, {
    method: "POST",
    body: new URLSearchParams({ nome, senha, acao: "login" })
  });
  const data = await resp.json();

  if (data.status === "ok") {
    usuarioLogado = nome;
    document.getElementById("loginResultado").innerText = "Login realizado! ‚úÖ";
    document.getElementById("login").style.display = "none";
    document.getElementById("cadastro").style.display = "none";
    document.getElementById("painel").style.display = "block";
  } else {
    document.getElementById("loginResultado").innerText = "Nome ou senha incorretos ‚ùå";
  }
}

async function salvarTreino() {
  const dia = document.getElementById("dia").value;
  const tipo = document.getElementById("tipo").value;
  const feito = document.getElementById("feito").value;

  if (!dia || !tipo || !feito) return alert("Preencha todos os campos!");

  const resp = await fetch(scriptUrl, {
    method: "POST",
    body: new URLSearchParams({ nome: usuarioLogado, dia, tipo, feito, acao: "salvarTreino" })
  });

  const data = await resp.json();
  if (data.status === "ok") {
    document.getElementById("salvarResultado").innerText = "Treino salvo com sucesso! üí™";
  }
}
</script>

</body>
</html>
