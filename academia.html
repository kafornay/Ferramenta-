<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>üèãÔ∏è Academia Online</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
:root {
  --primary: #00ffae;
  --secondary: #181c24;
  --bg: #0d1117;
  --card: rgba(24, 28, 36, 0.75);
  --accent: #00bfff;
  --danger: #e53935;
  --radius: 14px;
  --shadow: 0 0 24px rgba(0,0,0,0.4);
  --blur: 16px;
}
body {
  margin: 0;
  font-family: "Segoe UI", Arial, sans-serif;
  background: radial-gradient(circle at top, #0f1620 0%, #0d1117 100%);
  color: #fff;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}
.container {
  width: 100%;
  max-width: 420px;
  padding: 40px 28px;
  border-radius: var(--radius);
  background: var(--card);
  box-shadow: var(--shadow);
  backdrop-filter: blur(var(--blur));
  animation: fadeIn 0.6s ease-out;
}
@keyframes fadeIn { from {opacity:0; transform:translateY(20px);} to {opacity:1; transform:translateY(0);} }

h2 {
  text-align: center;
  color: var(--primary);
  margin-bottom: 20px;
  letter-spacing: 1px;
}

input {
  width: 100%;
  padding: 12px;
  margin-bottom: 14px;
  border: none;
  border-radius: var(--radius);
  background: #1f2632;
  color: #fff;
  font-size: 1em;
  box-shadow: inset 0 0 4px rgba(0,0,0,0.2);
  outline: none;
  transition: 0.2s;
}
input:focus { background: #242b3a; border: 1px solid var(--primary); }

button {
  width: 100%;
  padding: 12px;
  border: none;
  border-radius: var(--radius);
  background: var(--primary);
  color: #181c24;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
  font-size: 1.05em;
  letter-spacing: 0.5px;
}
button:hover { background: var(--accent); color: #fff; }

.toggle {
  text-align: center;
  margin-top: 10px;
  font-size: 0.9em;
  color: #aaa;
}
.toggle span {
  color: var(--primary);
  cursor: pointer;
  font-weight: bold;
}
#senhaMsg {
  text-align: center;
  color: var(--primary);
  margin-top: 10px;
}

.painel { display: none; }

/* Painel principal */
.boas-vindas { text-align:center; font-size:1.3em; margin-bottom:20px; color: var(--primary);}
#barraProgresso {
  background: #23283a;
  border-radius: 8px;
  height: 28px;
  width: 100%;
  box-shadow: var(--shadow);
}
#progresso {
  background: linear-gradient(90deg, var(--primary), var(--accent));
  height: 100%;
  width: 0%;
  border-radius: 8px;
  color: #181c24;
  text-align: center;
  line-height: 28px;
  font-weight: bold;
  transition: width .5s;
}
#faltouDias { text-align:center; color:#aaa; margin-top:8px;}
.treino-box {
  background: #23283a;
  border-radius: var(--radius);
  padding: 12px;
  margin-bottom: 10px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.treino-box strong { color: var(--primary); }
</style>
</head>
<body>

<!-- Login -->
<div class="container" id="loginDiv">
  <h2>üèãÔ∏è Academia Online</h2>
  <input id="nome" placeholder="Nome do aluno">
  <input id="senha" type="password" placeholder="Senha">
  <button id="btnLogin" onclick="login()">Entrar</button>
  <button id="btnRegistrar" style="display:none;" onclick="registrar()">Registrar</button>
  <div class="toggle">
    <span id="alternarModo" onclick="alternarModo()">Criar conta</span>
  </div>
  <p id="senhaMsg"></p>
</div>

<!-- Painel Principal -->
<div class="container painel" id="painelDiv">
  <div class="boas-vindas" id="boasVindas"></div>

  <div id="progressoDiv" style="display:none;">
    <h3>Progresso da Semana</h3>
    <div id="barraProgresso">
      <div id="progresso">0%</div>
    </div>
    <p id="faltouDias"></p>
  </div>

  <form class="treino-form" onsubmit="event.preventDefault();salvarTreino();">
    <label for="dia">Dia da semana:</label>
    <select id="dia" onchange="atualizaTipoTreino();montarTreino();">
      <option value="">Selecione</option>
      <option value="Segunda" disabled>Segunda</option>
      <option value="Ter√ßa" disabled>Ter√ßa</option>
      <option value="Quarta" disabled>Quarta</option>
      <option value="Quinta" disabled>Quinta</option>
      <option value="Sexta" disabled>Sexta</option>
      <option value="S√°bado" disabled>S√°bado (Cardio)</option>
    </select>

    <label for="tipo" id="labelTipo">Tipo de treino:</label>
    <select id="tipo" onchange="montarTreino()">
      <option value="">Selecione</option>
      <option value="Peito">Peito</option>
      <option value="Costas">Costas</option>
      <option value="Perna">Perna</option>
      <option value="Ombro">Ombro</option>
      <option value="B√≠ceps/Tr√≠ceps">B√≠ceps/Tr√≠ceps</option>
    </select>

    <div id="listaTreinos"></div>
    <button type="submit">Salvar Treino</button>
    <div id="statusMsg"></div>
  </form>
</div>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbyUFFwmr6R1435ZH4Z3rGk3KUC-VaA_Cg64JDlAF0Z43kX-2_h5DK-KUVA96eNJaMe8HQ/exec";

// Alterna modo login/registro
let modoRegistro = false;
function alternarModo() {
  modoRegistro = !modoRegistro;
  document.getElementById("btnLogin").style.display = modoRegistro ? "none" : "block";
  document.getElementById("btnRegistrar").style.display = modoRegistro ? "block" : "none";
  document.getElementById("alternarModo").innerText = modoRegistro ? "J√° tenho conta" : "Criar conta";
  document.getElementById("senhaMsg").innerText = "";
}

// Registrar
function registrar() {
  const nome = document.getElementById("nome").value.trim();
  if (!nome) return alert("Digite seu nome!");
  fetch(API_URL, {
    method: "POST",
    body: new URLSearchParams({ acao: "registrar", nome })
  })
  .then(r => r.json())
  .then(d => {
    document.getElementById("senhaMsg").innerText =
      d.status === "ok" ? `‚úÖ Sua senha √©: ${d.senha}` : "Erro ao registrar.";
  });
}

// Login
function login() {
  const nome = document.getElementById("nome").value.trim();
  const senha = document.getElementById("senha").value.trim();
  if (!nome || !senha) return alert("Preencha nome e senha!");
  fetch(API_URL, {
    method: "POST",
    body: new URLSearchParams({ acao: "login", nome, senha })
  })
  .then(r => r.json())
  .then(d => {
    if (d.status === "ok") {
      localStorage.setItem("aluno", nome);
      document.getElementById("loginDiv").style.display = "none";
      document.getElementById("painelDiv").style.display = "block";
      document.getElementById("boasVindas").innerText = `Bem-vindo(a), ${nome}!`;
      habilitarDiaAtual();
      carregarProgresso(nome);
    } else {
      alert("Nome ou senha incorretos.");
    }
  });
}

// ======= Fun√ß√µes auxiliares (mantidas) =======
function habilitarDiaAtual() { /* igual ao seu c√≥digo */ }
function atualizaTipoTreino() { /* igual ao seu c√≥digo */ }
function montarTreino() { /* igual ao seu c√≥digo */ }
function salvarTreino() { /* igual ao seu c√≥digo */ }
function carregarProgresso(nome) { /* igual ao seu c√≥digo */ }

window.onload = function(){
 let aluno = localStorage.getItem("aluno");
 if(aluno){
   document.getElementById("loginDiv").style.display="none";
   document.getElementById("painelDiv").style.display="block";
   document.getElementById("boasVindas").innerText=`Bem-vindo(a), ${aluno}!`;
   habilitarDiaAtual();
   carregarProgresso(aluno);
 }
};
</script>
</body>
</html>
